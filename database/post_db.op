Replication
master - slave(sync) - slave(async)

Sharding
key - user_id

Table post {
  id       bigint [pk, increment]
  user_id  bigint [not null]
  place_id bigint [ref: > place.id]
  text     text [not null]

  indexes {
    (user_id)  [name: 'idx_post_user']
    (place_id) [name: 'idx_post_place']
  }
}

Table place {
  id   bigint [pk, increment]
  name varchar(255) [not null]
  lat  decimal(9,6) [not null]
  lon  decimal(9,6) [not null]
}