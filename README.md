# Social Network System Design
System Design социальной сети для [курса System Design](https://balun.courses/courses/system_design)

### Функциональные требования:
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке;

---

### Нефункциональные требования:
- DAU 10 000 000
- Платформы:
    - веб
    - мобильное приложение
- Надежноcть(99.999%)
- аудиторию стран СНГ
- Срок хранения данных: 10 лет
- Активность пользователей(в среднем в день)
    - создает 5 постов
    - просматривает 50 постов
    - ставит 20 реакций
    - оставляет 30 комментариев
    - подписывается на 10 человек

---

### Максимальные значения параметров системы

| Параметр                                                                    | Значение  |
|-----------------------------------------------------------------------------|-----------|
| Постов в сутки у пользователя                                               | 100       |
| Фотографий в посте                                                          | 5         |
| Размер фотографии                                                           | 3 МБ      |
| Количество символов в описании                                              | 1 000     |
| Максимальное количество подписчиков у пользователя                          | 5 000 000 |
| Количество постов у пользователя                                            | 1 000 000 |
| Максимальное количество комментариев на один пост                           | 100 000   |
| Максимальное количество комментариев на один пост в день                    | 5 000     |
| Максимальное количество реакций на один пост                                | 1 000 000 |
| Максимальное количество постов с привязкой к одному месту                   | 10 000    |
| Максимальное количество оценок, которое может поставить пользователь в день | 500       |
| Количество мест для путешествий                                             | 100 000   |
| Лента подгружается по (пагинация)                                           | 50 постов |

---

### Средний размер поста
5 фото × 3 МБ + 1 000 символов ≈ **15 МБ** (≈ 15 000 000 байт)

---

### Нагрузки

---

### Посты
| Показатель | Создание   | Просмотр    |
|------------|------------|-------------|
| RPS        | 579        | 5 787       |
| Трафик     | ≈ 8.7 ГБ/с | ≈ 86.8 ГБ/с |

**Расчёт:**
- RPS
  - создание → `10 000 000 × 5 / 86 400 = 579`
  - просмотр → `10 000 000 × 50 / 86 400 = 5 787`
- трафик:
    - создание → `579 × 15 000 000 = 8 685 000 000 байт/с ≈ 8.7 ГБ/с`
    - просмотр → `5 787 × 15 000 000 = 86 805 555 555 байт/с ≈ 86.8 ГБ/с`

---

### Комментарии
| Показатель | Создание   | Просмотр   |
|------------|------------|------------|
| RPS        | 3 472      | 2 315      |
| Трафик     | ≈ 3.5 МБ/с | ≈ 2.3 МБ/с |

**Расчёт:**
- RPS
    - создание → `10 000 000 × 30 / 86 400 = 3 472`
    - просмотр → `10 000 000 × 20 / 86 400 = 2 315`
- трафик:
    - создание → `3 472 × 1 000 = 3 472 000 байт/с ≈ 3.5 МБ/с`
    - просмотр → `2 315 × 1 000 = 2 315 000 байт/с ≈ 2.3 МБ/с`

---

### Реакции
| Показатель | Создание    | Просмотр    |
|------------|-------------|-------------|
| RPS        | 2 315       | 2 315       |
| Трафик     | ≈ 18.5 КБ/с | ≈ 18.5 КБ/с |

**Расчёт:**
- RPS
    - создание → `10 000 000 × 20 / 86 400 = 2 315`
    - просмотр → `10 000 000 × 20 / 86 400 = 2 315`
- трафик:
    - создание → `2 315 × 8 = 18 520 байт/с ≈ 18.5 КБ/с`
    - просмотр → `2 315 × 8 = 18 520 байт/с ≈ 18.5 КБ/с`

---